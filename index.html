<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Professional Finder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --bg: #f8fafc;
      --card: #ffffff;
      --border: #e5e7eb;
      --text: #020617;
      --muted: #64748b;
      --primary: #020617;
      --radius: 12px;
    }

    * {
      box-sizing: border-box;
      font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont;
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      display: flex;
      justify-content: center;
      padding: 40px 16px;
    }

    .card {
      width: 100%;
      max-width: 480px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 24px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.04);
    }

    h1 {
      margin: 0 0 6px;
      font-size: 22px;
      font-weight: 600;
      text-align: center;
    }

    .subtitle {
      text-align: center;
      color: var(--muted);
      font-size: 14px;
      margin-bottom: 24px;
    }

    .field {
      margin-bottom: 14px;
    }

    label {
      display: block;
      font-size: 13px;
      margin-bottom: 6px;
      color: var(--muted);
    }

    input {
      width: 100%;
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid var(--border);
      font-size: 14px;
      outline: none;
    }

    input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(2,6,23,0.1);
    }

    button {
      width: 100%;
      margin-top: 6px;
      padding: 11px;
      font-size: 14px;
      font-weight: 500;
      border-radius: 8px;
      border: none;
      background: var(--primary);
      color: white;
      cursor: pointer;
      transition: opacity 0.2s ease;
    }

    button:hover {
      opacity: 0.9;
    }

    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .results {
      margin-top: 20px;
    }

    .result {
      padding: 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      margin-bottom: 10px;
    }

    .result strong {
      font-size: 15px;
      display: block;
    }

    .result small {
      color: var(--muted);
      font-size: 13px;
    }

    .rating {
      margin-top: 4px;
      font-size: 13px;
    }

    .loading,
    .empty,
    .error {
      text-align: center;
      font-size: 14px;
      color: var(--muted);
      margin-top: 12px;
    }
  </style>
</head>
<body>

  <div class="card">
    <h1>Professional Finder</h1>
    <p class="subtitle">Search doctors, lawyers, engineers & more</p>

    <div class="field">
      <label>Profession</label>
      <input id="profession" placeholder="e.g. Doctor" />
    </div>

    <div class="field">
      <label>Location</label>
      <input id="location" placeholder="e.g. Delhi" />
    </div>

    <button id="searchBtn" onclick="searchPlaces()">Search</button>

    <div class="results" id="results"></div>
  </div>

  <script>
    async function searchPlaces() {
      const profession = document.getElementById("profession").value.trim();
      const location = document.getElementById("location").value.trim();
      const resultsDiv = document.getElementById("results");
      const button = document.getElementById("searchBtn");

      if (!profession || !location) {
        alert("Please enter both profession and location");
        return;
      }

      button.disabled = true;
      resultsDiv.innerHTML = '<div class="loading">Searching...</div>';

      const query = `${profession} in ${location}`;

      try {
        const response = await fetch(
          "https://places.googleapis.com/v1/places:searchText",
          {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              "X-Goog-Api-Key": "AIzaSyASMvFbqaCYXmH18vVM78pkFR1PKVJBMX8",
              "X-Goog-FieldMask": "*",
            },
            body: JSON.stringify({
              textQuery: query,
              maxResultCount: 5,
            }),
          }
        );

        const data = await response.json();
        resultsDiv.innerHTML = "";

        if (!data.places || data.places.length === 0) {
          resultsDiv.innerHTML =
            '<div class="empty">No results found</div>';
          return;
        }

        data.places.forEach(place => {
          const div = document.createElement("div");
          div.className = "result";

          div.innerHTML = `
            <strong>${place.displayName?.text || "N/A"}</strong>
            <small>${place.formattedAddress || ""}</small>
            <div class="rating">‚≠ê ${place.rating || "No rating"}</div>
          `;

          resultsDiv.appendChild(div);
        });

      } catch (err) {
        resultsDiv.innerHTML =
          '<div class="error">Something went wrong</div>';
        console.error(err);
      } finally {
        button.disabled = false;
      }
    }
  </script>

</body>
</html>
